{"version":3,"sources":["services/YelpService.js","components/Search.js","components/Result.js","components/RestaurantDetails.js","App.js"],"names":["YelpService","axios","create","baseURL","headers","Authorization","styles","StyleSheet","container","flex","justifyContent","paddingHorizontal","input","height","borderColor","borderWidth","marginBottom","paddingLeft","SearchScreen","_ref","navigation","_useState","useState","_useState2","_slicedToArray","restaurant","setRestaurant","_useState3","_useState4","location","setLocation","_useState5","_useState6","setErreur","handleSearch","_ref2","_asyncToGenerator","console","log","response","get","params","term","navigate","results","data","businesses","error","Toast","show","type","position","text1","visibilityTime","autoHide","topOffset","bottomOffset","apply","arguments","_jsxs","View","style","children","_jsx","TextInput","value","onChangeText","placeholder","Button","title","onPress","backgroundColor","restaurantContainer","flexDirection","marginHorizontal","marginVertical","borderRadius","image","width","restaurantInfo","marginLeft","name","fontWeight","ResultsScreen","route","FlatList","renderItem","item","TouchableOpacity","restaurantId","id","Image","source","uri","image_url","Text","price","categories","map","cat","join","address1","keyExtractor","padding","restaurantDetails","restaurantName","fontSize","reviewsContainer","reviewsTitle","review","borderBottomWidth","borderBottomColor","paddingBottom","reviewUser","reviewRating","fontStyle","RestaurantDetailsScreen","reviews","setReviews","useEffect","fetchRestaurantDetails","fetchRestaurantReviews","_ref3","ScrollView","display_phone","rating","review_count","index","user","text","Stack","createStackNavigator","App","NavigationContainer","Navigator","initialRouteName","Screen","component","options","ref","setRef"],"mappings":"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","file":"static/js/app.c06faae7.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst apiKey =\r\n  'p2lseXmq5yarrSoE6PGD8hsXxBwmJV5U1dbV8FodsK26NFwKY3YcurmXSJi-3R9RhtiLpJRZbOi90665i5a_UZxA3RzsIu1gGnaYH24JzcSwoTrsp7_0Y_0xYYMhZHYx';\r\nconst baseUrl = 'https://api.yelp.com/v3/businesses';\r\n\r\nconst YelpService = axios.create({\r\n  baseURL: baseUrl,\r\n  headers: {\r\n    Authorization: `Bearer ${apiKey}`,\r\n  },\r\n});\r\n\r\nexport default YelpService;\r\n","// screens/SearchScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, TextInput, Button, Text, StyleSheet } from 'react-native';\r\nimport YelpService from \"../services/YelpService\";\r\nimport Toast from 'react-native-toast-message';\r\n\r\n    \r\nconst SearchScreen = ({ navigation }) => {\r\n  const [restaurant, setRestaurant] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [erreur, setErreur] = useState(false);\r\n  const handleSearch = async () => {\r\n    console.log(\"resto\", restaurant);\r\n    try {\r\n      const response = await YelpService.get('/search', {\r\n        params: {\r\n          term: restaurant,\r\n          location: location,\r\n        },\r\n      });\r\n      \r\n      navigation.navigate('Results', { results: response.data.businesses });\r\n    } catch (error) {\r\n      setErreur(true);\r\n        Toast.show({\r\n        type: 'error',\r\n        position: 'bottom',\r\n        text1: 'Aucun résultat, veuillez réesseyer    ',\r\n        visibilityTime: 4000,\r\n        autoHide: true,\r\n        topOffset: 30,\r\n        bottomOffset: 40,\r\n      });\r\n      console.error('Error fetching data from Yelp API:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={restaurant}\r\n        onChangeText={setRestaurant}\r\n        placeholder=\"Nom du restaurant\"\r\n      />\r\n      <TextInput\r\n        style={styles.input}\r\n        value={location}\r\n        onChangeText={setLocation}\r\n        placeholder=\"Ville ou code postal\"\r\n      />\r\n      <Button title=\"Valider\" onPress={handleSearch} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    marginBottom: 10,\r\n    paddingLeft: 10,\r\n  },\r\n});\r\n\r\nexport default SearchScreen;\r\n","// screens/ResultsScreen.js\r\nimport React from 'react';\r\nimport { View, Text, StyleSheet, FlatList, Image,TouchableOpacity  } from 'react-native';\r\nconst ResultsScreen = ({ route, navigation }) => {\r\n  const { results } = route.params;\r\n\r\n const renderItem = ({ item: restaurant }) => (\r\n       <TouchableOpacity onPress={() => navigation.navigate('RestaurantDetails', { restaurantId: restaurant.id })}>\r\n\r\n    <View style={styles.restaurantContainer}>\r\n      <Image style={styles.image} source={{ uri: restaurant.image_url }} />\r\n      <View style={styles.restaurantInfo}>\r\n        <Text style={styles.name}>{restaurant.name}</Text>\r\n        <Text>{restaurant.price}</Text>\r\n        <Text>{restaurant.categories.map((cat) => cat.title).join(', ')}</Text>\r\n        <Text>{restaurant.location.address1}</Text>\r\n      </View>\r\n    </View>\r\n      \r\n        </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={results}\r\n        renderItem={renderItem}\r\n        keyExtractor={(restaurant) => restaurant.id}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  restaurantContainer: {\r\n    flexDirection: 'row',\r\n    marginHorizontal: 10,\r\n    marginVertical: 5,\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: 5,\r\n  },\r\n  image: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 5,\r\n  },\r\n  restaurantInfo: {\r\n    marginLeft: 10,\r\n    justifyContent: 'space-around',\r\n    flex: 1,\r\n  },\r\n  name: {\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default ResultsScreen;\r\n","// screens/RestaurantDetailsScreen.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, ScrollView, Image } from 'react-native';\r\nimport YelpService from '../services/YelpService';\r\n\r\nconst RestaurantDetailsScreen = ({ route }) => {\r\n  const { restaurantId } = route.params;\r\n\r\n  const [restaurant, setRestaurant] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchRestaurantDetails = async () => {\r\n      try {\r\n        const response = await YelpService.get(`/${restaurantId}`);\r\n        setRestaurant(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching restaurant details:', error);\r\n      }\r\n    };\r\n\r\n    const fetchRestaurantReviews = async () => {\r\n      try {\r\n        const response = await YelpService.get(`/${restaurantId}/reviews`);\r\n        setReviews(response.data.reviews);\r\n      } catch (error) {\r\n        console.error('Error fetching restaurant reviews:', error);\r\n      }\r\n    };\r\n\r\n    fetchRestaurantDetails();\r\n    fetchRestaurantReviews();\r\n  }, [restaurantId]);\r\n\r\n  if (!restaurant) {\r\n    return <Text>Loading...</Text>;\r\n  }\r\n\r\nreturn (\r\n<ScrollView style={styles.container}>\r\n      <Image style={styles.image} source={{ uri: restaurant.image_url }} />\r\n      <View style={styles.restaurantDetails}>\r\n        <Text style={styles.restaurantName}>{restaurant.name}</Text>\r\n        <Text>{restaurant.price} - {restaurant.categories.map((cat) => cat.title).join(', ')}</Text>\r\n        <Text>{restaurant.location.address1}</Text>\r\n        <Text>Telephone: {restaurant.display_phone}</Text>\r\n        <Text>Note: {restaurant.rating} ({restaurant.review_count} avis)</Text>\r\n      </View>\r\n      <View style={styles.reviewsContainer}>\r\n        <Text style={styles.reviewsTitle}>Avis:</Text>\r\n        {reviews.map((review, index) => (\r\n          <View key={index} style={styles.review}>\r\n            <Text style={styles.reviewUser}>{review.user.name}:</Text>\r\n            <Text>{review.text}</Text>\r\n            <Text style={styles.reviewRating}>Rating: {review.rating}</Text>\r\n          </View>\r\n        ))}\r\n      </View>\r\n    </ScrollView>\r\n);\r\n};\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    padding: 10,\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginBottom: 15,\r\n  },\r\n  restaurantDetails: {\r\n    marginBottom: 20,\r\n  },\r\n  restaurantName: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n  },\r\n  reviewsContainer: {},\r\n  reviewsTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n  },\r\n  review: {\r\n    marginBottom: 10,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#ccc',\r\n    paddingBottom: 10,\r\n  },\r\n  reviewUser: {\r\n    fontWeight: 'bold',\r\n  },\r\n  reviewRating: {\r\n    fontStyle: 'italic',\r\n  },\r\n});\r\n\r\nexport default RestaurantDetailsScreen;\r\n","// App.js\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport SearchScreen from './components/Search';\nimport ResultsScreen from './components/Result';\nimport RestaurantDetailsScreen from './components/RestaurantDetails'\nimport Toast from 'react-native-toast-message';\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Search\">\n        <Stack.Screen name=\"Search\" component={SearchScreen} options={{ title: 'Recherche' }} />\n        <Stack.Screen name=\"Results\" component={ResultsScreen} options={{ title: 'Résultats' }} />\n        <Stack.Screen\n        name=\"RestaurantDetails\"\n        component={RestaurantDetailsScreen}\n        options={{ title: \"Détails du restaurant\"}}\n        />\n      </Stack.Navigator>\n      <Toast ref={(ref) => Toast.setRef(ref)} />\n    </NavigationContainer>\n  );\n};\n\n\n\nexport default App;"],"sourceRoot":""}