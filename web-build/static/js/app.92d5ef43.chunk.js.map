{"version":3,"sources":["services/YelpService.js","components/Search.js","components/Result.js","components/RestaurantDetails.js","services/WorkerGet.js","services/WorkerService.js","components/comments.js","App.js"],"names":["YelpService","axios","create","baseURL","proxyurl","headers","Authorization","defaults","common","styles","StyleSheet","container","flex","justifyContent","paddingHorizontal","input","height","borderColor","borderWidth","marginBottom","paddingLeft","SearchScreen","_ref","navigation","_useState","useState","_useState2","_slicedToArray","restaurant","setRestaurant","_useState3","_useState4","location","setLocation","_useState5","_useState6","setErreur","handleSearch","_ref2","_asyncToGenerator","console","log","response","get","params","term","navigate","results","data","businesses","error","Toast","show","type","position","text1","visibilityTime","autoHide","topOffset","bottomOffset","apply","arguments","_jsxs","View","style","children","_jsx","TextInput","value","onChangeText","placeholder","Button","title","onPress","backgroundColor","restaurantContainer","flexDirection","marginHorizontal","marginVertical","borderRadius","image","width","restaurantInfo","marginLeft","name","fontWeight","ResultsScreen","route","FlatList","renderItem","item","TouchableOpacity","restaurantId","id","Image","source","uri","image_url","Text","price","categories","map","cat","join","address1","keyExtractor","padding","restaurantDetails","restaurantName","fontSize","reviewsContainer","reviewsTitle","review","borderBottomWidth","borderBottomColor","paddingBottom","reviewUser","reviewRating","fontStyle","RestaurantDetailsScreen","reviews","setReviews","useEffect","fetchRestaurantDetails","fetchRestaurantReviews","_ref3","ScrollView","display_phone","rating","review_count","index","user","text","WorkerServiceGet","proxyUrl","heading","commentContainer","username","content","marginTop","button","color","CommentComponent","comments","setComments","comment","setComment","then","length","slice","handleSubmit","fetch","method","body","JSON","stringify","concat","_toConsumableArray","shift","catch","k","v","Stack","createStackNavigator","App","NavigationContainer","Navigator","initialRouteName","Screen","component","options","ref","setRef"],"mappings":"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","file":"static/js/app.92d5ef43.chunk.js","sourcesContent":["import axios from 'axios';\nconst proxyurl = \"https://purple-art-1f04.bellatif6169.workers.dev/\";\nconst apiKey =\n  'p2lseXmq5yarrSoE6PGD8hsXxBwmJV5U1dbV8FodsK26NFwKY3YcurmXSJi-3R9RhtiLpJRZbOi90665i5a_UZxA3RzsIu1gGnaYH24JzcSwoTrsp7_0Y_0xYYMhZHYx';\nconst baseUrl = 'https://api.yelp.com/v3/businesses';\n\nconst YelpService = axios.create({\n  baseURL:  proxyurl + baseUrl,\n  headers: {\n    Authorization: `Bearer ${apiKey}`,\n    },\n});\n\nYelpService.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\nYelpService.defaults.headers.common['Accept'] = 'application/json';\n\nexport default YelpService;\n","// screens/SearchScreen.js\nimport React, { useState } from 'react';\nimport { View, TextInput, Button, Text, StyleSheet } from 'react-native';\nimport YelpService from \"../services/YelpService\";\nimport Toast from 'react-native-toast-message';\n\n    \nconst SearchScreen = ({ navigation }) => {\n  const [restaurant, setRestaurant] = useState('');\n  const [location, setLocation] = useState('');\n  const [erreur, setErreur] = useState(false);\n  const handleSearch = async () => {\n    console.log(\"resto\", restaurant);\n    try {\n      const response = await YelpService.get('/search', {\n        params: {\n          term: restaurant,\n          location: location,\n        },\n      });\n      \n      navigation.navigate('Results', { results: response.data.businesses });\n    } catch (error) {\n      setErreur(true);\n        Toast.show({\n        type: 'error',\n        position: 'bottom',\n        text1: 'Aucun résultat, veuillez réesseyer    ',\n        visibilityTime: 4000,\n        autoHide: true,\n        topOffset: 30,\n        bottomOffset: 40,\n      });\n      console.error('Error fetching data from Yelp API:', error);\n    }\n  };\n\n\n\n  return (\n    <View style={styles.container}>\n      <TextInput\n        style={styles.input}\n        value={restaurant}\n        onChangeText={setRestaurant}\n        placeholder=\"Nom du restaurant\"\n      />\n      <TextInput\n        style={styles.input}\n        value={location}\n        onChangeText={setLocation}\n        placeholder=\"Ville ou code postal\"\n      />\n      <Button title=\"Valider\" onPress={handleSearch} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 10,\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: 10,\n    paddingLeft: 10,\n  },\n});\n\nexport default SearchScreen;\n","// screens/ResultsScreen.js\nimport React from 'react';\nimport { View, Text, StyleSheet, FlatList, Image,TouchableOpacity  } from 'react-native';\nconst ResultsScreen = ({ route, navigation }) => {\n  const { results } = route.params;\n\n const renderItem = ({ item: restaurant }) => (\n       <TouchableOpacity onPress={() => navigation.navigate('RestaurantDetails', { restaurantId: restaurant.id })}>\n\n    <View style={styles.restaurantContainer}>\n      <Image style={styles.image} source={{ uri: restaurant.image_url }} />\n      <View style={styles.restaurantInfo}>\n        <Text style={styles.name}>{restaurant.name}</Text>\n        <Text>{restaurant.price}</Text>\n        <Text>{restaurant.categories.map((cat) => cat.title).join(', ')}</Text>\n        <Text>{restaurant.location.address1}</Text>\n      </View>\n    </View>\n      \n        </TouchableOpacity>\n  );\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={results}\n        renderItem={renderItem}\n        keyExtractor={(restaurant) => restaurant.id}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  restaurantContainer: {\n    flexDirection: 'row',\n    marginHorizontal: 10,\n    marginVertical: 5,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 5,\n  },\n  image: {\n    width: 100,\n    height: 100,\n    borderRadius: 5,\n  },\n  restaurantInfo: {\n    marginLeft: 10,\n    justifyContent: 'space-around',\n    flex: 1,\n  },\n  name: {\n    fontWeight: 'bold',\n  },\n});\n\nexport default ResultsScreen;\n","// screens/RestaurantDetailsScreen.js\nimport React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Image } from 'react-native';\nimport YelpService from '../services/YelpService';\n\nconst RestaurantDetailsScreen = ({ route }) => {\n  const { restaurantId } = route.params;\n\n  const [restaurant, setRestaurant] = useState(null);\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    const fetchRestaurantDetails = async () => {\n      try {\n        const response = await YelpService.get(`/${restaurantId}`);\n        setRestaurant(response.data);\n      } catch (error) {\n        console.error('Error fetching restaurant details:', error);\n      }\n    };\n\n    const fetchRestaurantReviews = async () => {\n      try {\n        const response = await YelpService.get(`/${restaurantId}/reviews`);\n        setReviews(response.data.reviews);\n      } catch (error) {\n        console.error('Error fetching restaurant reviews:', error);\n      }\n    };\n\n    fetchRestaurantDetails();\n    fetchRestaurantReviews();\n  }, [restaurantId]);\n\n  if (!restaurant) {\n    return <Text>Loading...</Text>;\n  }\n\nreturn (\n<ScrollView style={styles.container}>\n      <Image style={styles.image} source={{ uri: restaurant.image_url }} />\n      <View style={styles.restaurantDetails}>\n        <Text style={styles.restaurantName}>{restaurant.name}</Text>\n        <Text>{restaurant.price} - {restaurant.categories.map((cat) => cat.title).join(', ')}</Text>\n        <Text>{restaurant.location.address1}</Text>\n        <Text>Telephone: {restaurant.display_phone}</Text>\n        <Text>Note: {restaurant.rating} ({restaurant.review_count} avis)</Text>\n      </View>\n      <View style={styles.reviewsContainer}>\n        <Text style={styles.reviewsTitle}>Avis:</Text>\n        {reviews.map((review, index) => (\n          <View key={index} style={styles.review}>\n            <Text style={styles.reviewUser}>{review.user.name}:</Text>\n            <Text>{review.text}</Text>\n            <Text style={styles.reviewRating}>Rating: {review.rating}</Text>\n          </View>\n        ))}\n      </View>\n    </ScrollView>\n);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    padding: 10,\n  },\n  image: {\n    width: '100%',\n    height: 200,\n    marginBottom: 15,\n  },\n  restaurantDetails: {\n    marginBottom: 20,\n  },\n  restaurantName: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  reviewsContainer: {},\n  reviewsTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  review: {\n    marginBottom: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    paddingBottom: 10,\n  },\n  reviewUser: {\n    fontWeight: 'bold',\n  },\n  reviewRating: {\n    fontStyle: 'italic',\n  },\n});\n\nexport default RestaurantDetailsScreen;\n","//create a new axios instance with the baseURL of the proxyurl + cloudflare worker url in comments.js\n//\n// Compare this snippet from services/WorkerService.js:\nimport axios from 'axios';\n\nconst proxyurl = \"https://purple-art-1f04.bellatif6169.workers.dev/\";\n//const proxyurl = \"\";\nconst baseUrl = 'https://api-livre.bellatif6169.workers.dev';\n\n//fetch instead of axios\n\nconst WorkerServiceGet = axios.create({\n\n    baseURL:  baseUrl,\n    \n    headers: {\n        'Content-Type': '*/*'\n    },\n});\n\nexport default WorkerServiceGet;","//create a new axios instance with the baseURL of the proxyurl + cloudflare worker url in comments.js\n//\n// Compare this snippet from services/WorkerService.js:\nimport axios from 'axios';\n\nconst proxyUrl = \"https://purple-art-1f04.bellatif6169.workers.dev/\";\n//const proxyurl = \"\";\nconst baseUrl = 'https://api-livre.bellatif6169.workers.dev';\n\n//fetch instead of axio\n\nconst WorkerServicePost = axios.create({\n\n    baseURL:  proxyUrl + baseUrl,\n    headers: {\n        'Content-Type': 'application/json',\n        'Referrer-Policy': 'strict-origin-when-cross-origin',\n        'Cross-Origin-Embedder-Policy': 'require-corp; report-to=\"default\";',\n        'Cross-Origin-Opener-Policy': 'same-site; report-to=\"default\";',\n        'Cross-Origin-Resource-Policy': 'same-site',\n        'X-Content-Type-Options': 'nosniff',\n        \n    },\n\n\n});\n\n/*\nadd headers  security headers  \"X-Content-Type-Options\": \"nosniff\",\n      \"Referrer-Policy\": \"strict-origin-when-cross-origin\",\n      \"Cross-Origin-Embedder-Policy\": 'require-corp; report-to=\"default\";',\n      \"Cross-Origin-Opener-Policy\": 'same-site; report-to=\"default\";',\n      \"Cross-Origin-Resource-Policy\": \"same-site\",\n*/\n\n\n\n\nexport default WorkerServicePost;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, Button, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport WorkerServicePost from '../services/WorkerService';\nimport WorkerServiceGet from '../services/WorkerGet';\nimport { FlatList, ScrollView } from 'react-native-gesture-handler';\nconst CommentComponent = () => {\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState('');\n    const commentWorker = 'https://api-livre.bellatif6169.workers.dev/comments/';\n    const fetchComments = () => {\n      const response = WorkerServiceGet.get('/comments/').then((response) => {\n                    console.log(response.data);\n                    setComments(response.data);\n                });\n    }\n    useEffect(() =>{\n\n        //use workerservice.js to fetch comments with axios\n\n       \n                const response = WorkerServiceGet.get('/comments/').then((response) => {\n                    console.log(response.data);\n                    // get max 10 comments\n                    if (response.data.length > 5) {\n                        response.data = response.data.slice(response.data.length - 5, response.data.length);\n                    }\n                    setComments(response.data);\n                });\n\n\n\n    }, []);\n\n    const handleSubmit = async  () => {\n\n    fetch('https://api-livre.bellatif6169.workers.dev/comments/', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Referrer-Policy': 'strict-origin-when-cross-origin',\n            'Cross-Origin-Embedder-Policy': 'require-corp; report-to=\"default\";',\n            'Cross-Origin-Opener-Policy': 'same-site; report-to=\"default\";',\n            'Cross-Origin-Resource-Policy': 'same-site',\n            'X-Content-Type-Options': 'nosniff',\n\n        },\n        body: JSON.stringify({\n            content: comment\n        })\n    }).then((response) => {\n\n        setComments([...comments, comment]);\n        //limit the number of comments to 5\n        if (comments.length > 5) {\n            comments.shift();\n        }\n        setComment('');\n    }).catch((error) => {\n        console.error('Error fetching data from Cloudflare Workers API:', error);\n    });}\n    \n\n//iterate on comments array and display them in a list (the format is id: \"comment\")\n\n\n        return ( \n            <View style={styles.container}>\n            <Text style={styles.heading}>Livre d'or</Text>\n            <ScrollView style={styles.container}>\n            <FlatList\n                data={comments}\n                keyExtractor={(k,v) => v}\n                renderItem={({item}) => {\n                    return <View style={styles.item} >\n                    <Text>anonyme: {item}</Text>\n                    </View>\n                }}\n            />\n            </ScrollView>\n            <Text style={styles.heading}>Add a comment</Text>\n            <View style={styles.container}>\n                    <TextInput\n                        style={styles.input}\n                        placeholder=\"Enter your comment\"\n                        value={comment}\n                        onChangeText={setComment} />\n                    <Button style={styles.button} title=\"Submit\" onPress={handleSubmit} />\n                </View>\n                </View>\n        );\n    };\n\n\n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n            backgroundColor: '#fff'\n        },\n        heading: {\n            fontSize: 24,\n            fontWeight: 'bold',\n            marginBottom: 20\n        },\n        commentContainer: {\n            marginBottom: 10,\n            borderWidth: 1,\n            borderColor: '#ccc',\n            padding: 10\n        },\n        username: {\n            fontWeight: 'bold'\n        },\n        content: {\n            marginTop: 5\n        },\n        input: {\n            borderWidth: 1,\n            borderColor: '#ccc',\n            padding: 10,\n            marginBottom: 10\n        },\n        button: {\n            backgroundColor: 'blue',\n            color: '#fff',\n            padding: 10\n        },\n        item: {\n            backgroundColor: 'lightgray',\n            padding: 6,\n            marginVertical: 2,\n            marginHorizontal: 16,\n            borderRadius: 4,\n        }\n    });\n    export default CommentComponent;\n","// App.js\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport SearchScreen from './components/Search';\nimport ResultsScreen from './components/Result';\nimport RestaurantDetailsScreen from './components/RestaurantDetails'\nimport Toast from 'react-native-toast-message';\nimport CommentComponent from './components/comments';\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  return (\n    <NavigationContainer>\n    <CommentComponent />\n      <Stack.Navigator initialRouteName=\"Search\">\n        <Stack.Screen name=\"Search\" component={SearchScreen} options={{ title: 'Recherche' }} />\n        <Stack.Screen name=\"Results\" component={ResultsScreen} options={{ title: 'Résultats' }} />\n        <Stack.Screen\n        name=\"RestaurantDetails\"\n        component={RestaurantDetailsScreen}\n        options={{ title: \"Détails du restaurant\"}}\n        />\n      </Stack.Navigator>\n      <Toast ref={(ref) => Toast.setRef(ref)} />\n    </NavigationContainer>\n  );\n};\n\n\n\nexport default App;\n"],"sourceRoot":""}